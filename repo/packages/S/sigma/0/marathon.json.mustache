{
    "id": "/{{ sigma-cluster.framework-name }}",
    "cpus": 0.1,
    "mem": 64.0,
    "instances": 1,
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "{{ resources.assets.container.docker.hex }}",
            "forcePullImage": true,
            "network": "HOST",
            "volumes": [{
                "containerPath": "/data",
                "hostPath": "/mnt/data/sigma",
                "mode": "RW"
            }],
            "portMappings": [{
                "hostPort": 80,
                "containerPort": 80,
                "protocol": "tcp"
            }]
        }
    },
    "cmd": [
        "manage.py master start"
    ],
    "acceptedResourceRoles": ["slave_public"],
    "constraints": [["hostname", "UNIQUE"]],
    "healthCheckes": [{
        "path": "/test",
        "protocol": "HTTP",
        "portIndex": 0,
        "gracePeriodSeconds": 600,
        "intervalSeconds": 30,
        "timeoutSeconds": 20,
        "maxConsecutiveFailures": 3,
        "ignoreHttp1xx": false
    }],
    "labels": {
        "DCOS_PACKAGE_FRAMEWORK_NAME": "{{ sigma-cluster.framework-name }}",
    },
    "env": {
        "SIGMA_ZK_URL": "{{ sigma-cluster.zk-url }}"
    }
}
