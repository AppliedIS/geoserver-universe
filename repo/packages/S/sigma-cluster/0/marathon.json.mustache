{
    "id": "/{{ service.name }}",
    "cpus": {{ master.cpus }},
    "mem": {{ master.mem }},
    "instances": 1,
    "container": {
        "type": "DOCKER",
        "docker": {
            "image": "{{ resource.assets.container.docker.hex }}",
            "forcePullImage": true,
            "network": "HOST"
        },
        "volumes": [{
            "containerPath": "data",
            "mode": "RW",
            "persistent": {
                "size": {{ master.disk_size }}
            }
        }]
    },
    "residency": {
        "taskLostBehavior": "WAIT_FOREVER"
    },
    "cmd": "manage.py master start",
    "uri": [
        "file:///shared/.dockercfg"
    ],
    "acceptedResourceRoles": ["*"],
    "constraints": [["hostname", "UNIQUE"]],
    "labels": {
        "DCOS_PACKAGE_FRAMEWORK_NAME": "{{ service.name }}"
    },
    "env": {
        "FRAMEWORK_NAME": "{{ service.name }}",
        "SIGMA_CONTAINER": "{{ resource.assets.container.docker.hex }}",
        "SIGMA_SLAVES_COUNT": "{{ slaves.count }}",
        "SIGMA_SLAVES_CPU": "{{ slaves.cpus }}",
        "SIGMA_SLAVES_MEMORY": "{{ slaves.mem }}",
        "SIGMA_SLAVES_DISK": "{{ slaves.disk_path }}"
    }
}
